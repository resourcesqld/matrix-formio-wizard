(function(){"use strict";var e={4487:function(e,t,n){var r=n(9242),i=n(3396),a=n(7139);const s={id:"formio-land-form",class:"container container-fluid qg-site-width"},o={id:"qg-three-col",class:"row no-secondary-nav"},d={id:"qg-primary-content",role:"main"},l=(0,i._)("br",null,null,-1),u=(0,i._)("em",null,"(Land Act 1994)",-1),c=(0,i.uE)('<div class="clearfix"></div><div class="qg-content-footer"><p>This site is protected by reCAPTCHA and the Google <a href="https://policies.google.com/privacy">Privacy Policy</a> and <a href="https://policies.google.com/terms">Terms of Service</a> apply. </p><dl><dt>Version:</dt><dd>2022/01</dd></dl></div><div id="qg-options" class="row justify-content-sm-end"></div>',3),m={id:"qg-secondary-content"},p={class:"qg-aside qg-contact"};function g(e,t,n,r,g,h){const f=(0,i.up)("FormWrapper"),P=(0,i.up)("RightSideBar"),b=(0,i.up)("LeftSideBar");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",o,[(0,i._)("div",d,[(0,i._)("h1",null,[(0,i.Uk)((0,a.zw)(g.formName),1),l,u]),(0,i.Wm)(f,{projectUrl:g.projectUrl,wizardUrl:g.wizardUrl,createFormUrl:g.createFormUrl,formIdentifier:g.formIdentifier,savedApplicationPage:g.savedApplicationPage,thankYouPage:g.thankYouPage,userId:g.userId,submissionId:g.submissionId,hasPayment:g.hasPayment,paymentUrl:g.paymentUrl,recaptchaSiteKey:g.recaptchaSiteKey},null,8,["projectUrl","wizardUrl","createFormUrl","formIdentifier","savedApplicationPage","thankYouPage","userId","submissionId","hasPayment","paymentUrl","recaptchaSiteKey"]),c]),(0,i._)("aside",m,[(0,i._)("div",p,[(0,i.Wm)(P)])]),(0,i.Wm)(b,{formName:g.formName},null,8,["formName"])])])}const h={class:"formio-wrapper"},f=(0,i._)("div",{id:"formio"},null,-1),P={class:"button-container lb"};function b(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("div",h,[f,(0,i._)("div",P,[0!==a.currentPageIndex&&!1===a.isSubmitted?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"qg-btn btn-default m-md-2",onClick:t[0]||(t[0]=(...e)=>s.saveAndExitButtonHandler&&s.saveAndExitButtonHandler(...e))},"Save and exit ")):(0,i.kq)("",!0),!1===a.isLastPanel&&!1===a.isSubmitted?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"qg-btn btn-primary m-md-2 offset-1",onClick:t[1]||(t[1]=(...e)=>s.saveAndContinueButtonHandler&&s.saveAndContinueButtonHandler(...e))}," Next ")):(0,i.kq)("",!0),!0===a.isLastPanel&&!1===a.isSubmitted&&"false"===n.hasPayment?((0,i.wg)(),(0,i.iD)("button",{key:2,class:"qg-btn btn-primary m-md-2 offset-1",onClick:t[2]||(t[2]=(...e)=>s.submitFormHandler&&s.submitFormHandler(...e))}," Submit ")):(0,i.kq)("",!0),0!==a.currentPageIndex&&!1===a.isSubmitted?((0,i.wg)(),(0,i.iD)("a",{key:3,class:"qg-btn btn-link",onClick:t[3]||(t[3]=(...e)=>s.prevPageHandler&&s.prevPageHandler(...e))},"Back")):(0,i.kq)("",!0),0!==a.currentPageIndex&&!0===a.isSubmitted?((0,i.wg)(),(0,i.iD)("button",{key:4,class:"qg-btn btn-default m-md-2 offset-1",onClick:t[4]||(t[4]=(...e)=>s.prevPageHandler&&s.prevPageHandler(...e))},"Previous")):(0,i.kq)("",!0),!1===a.isLastPanel&&!0===a.isSubmitted?((0,i.wg)(),(0,i.iD)("button",{key:5,class:"qg-btn btn-default m-md-2 offset-1",onClick:t[5]||(t[5]=(...e)=>s.nextPageHandler&&s.nextPageHandler(...e))},"Next")):(0,i.kq)("",!0)])])}var I=n(65),v=Formio;class w{constructor({isActive:e,isDisabled:t,title:n,key:r,index:i}){this.isActive=e,this.isDisabled=t,this.title=n,this.key=r,this.index=i}}class y{constructor({pageKey:e,header:t,content:n}){this.pageKey=e,this.header=t,this.content=n}}var x=n(6265),C=n.n(x),S={name:"FormWrapper",props:{savedApplicationPage:{type:String,required:!0},thankYouPage:{type:String,required:!0},projectUrl:{type:String,required:!0},wizardUrl:{type:String,required:!0},createFormUrl:{type:String,required:!0},userId:{type:String,required:!0},submissionId:{type:String,required:!0},formIdentifier:{type:String,required:!0},hasPayment:{type:String,required:!0},paymentUrl:{type:String},recaptchaSiteKey:{type:String}},data(){return{formio:{},currentPageIndex:0,isLastPanel:!1,isSubmitted:!1,disableSubmit:!0,buttonClicked:""}},mounted(){v.Formio.setProjectUrl(this.projectUrl),v.Formio.setUser({_id:this.userId}),v.Formio.createForm(document.getElementById("formio"),this.createFormUrl,{buttonSettings:{showCancel:!1,showNext:!1,showPrevious:!1,showSubmit:!1}}).then((e=>{""!==this.submissionId?e.loadSubmission().then((t=>{this.syncForm(e,t),this.currentPageIndex=parseInt(t.data.currentPageIndex),this.formio.setPage(this.currentPageIndex),this.updateCurrentPageIndex(this.currentPageIndex)})):(this.syncForm(e),this.updateCurrentPageIndex(0)),e.on("saveAndContinue",(()=>{this.saveAndContinueButtonHandler()})),e.on("saveAndExit",(()=>{this.buttonClicked="saveAndExit",this.saveAndExitButtonHandler()})),e.on("buildPanelList",(()=>{this.formio.establishPages(),this.syncForm(e)})),e.on("pagesChanged",(()=>{e.isValid()||(this.updateCurrentPageIndex(this.currentPageIndex),this.syncForm(e))})),e.on("editPage",(e=>{this.currentPageIndex=this.getPageIndexByPageName(e),this.updateCurrentPageIndex(this.currentPageIndex)})),e.on("saveDraft",(()=>{this.afterSaveDraftHandler()})),e.on("submitDone",(()=>{window.location.href=this.thankYouPage})),window.formioWizard?.customController&&window[window.formioWizard.customController]&&"function"===typeof window[window.formioWizard.customController]&&window[window.formioWizard.customController](e,this)}))},computed:{...(0,I.Se)(["getCurrentPageIndex","getIsLastPanel"])},watch:{getCurrentPageIndex(){this.gotoPageHandler()}},methods:{getPageIndexByPageName(e){let t=0;return this.formio.pages.filter((function(n,r){e===n.key&&(t=r)})),t},syncForm(e,t={}){"undefined"!==typeof t.state&&"submitted"===t.state&&(e.options.readOnly=!0,e.options.renderMode="html",e.options.editMode=!1,e.redraw()),this.formio=e,this.currentPageIndex=e.page,this.isLastPanel=e.pages.length===e.page+1,this.isSubmitted="undefined"!==typeof t.state&&"submitted"===t.state;let n=this.buildPanelList(e.pages??[],e.page),r=e.form.config.helpers??[],i=this.buildHelpers(r);this.setCurrentPageIndex(e.page),this.setPanelList(n),this.setHelpers(i)},buildPanelList(e,t){return 0===e.length?[]:e.map(((e,n)=>{let r=!1,i=!0;return n===t&&(r=!0),n<=t&&(i=!1),new w({isActive:r,isDisabled:i,title:e.component.title,key:e.key,index:n})}))},buildHelpers(e){return 0===e.length?[]:e.map((e=>new y({pageKey:e.pageKey,header:e.header,content:e.content})))},afterSaveDraftHandler(){switch(!0){case this.hasPayment&&"payNow"===this.buttonClicked:this.payNowHandler();break;default:window.location.href=this.savedApplicationPage}},payNowHandler(){let e=`${document.location.protocol}//${document.location.host}${document.location.pathname}?submissionId=${this.formio.submission._id}`;C().post(this.paymentUrl,{data:{merchantShortName:this.formio.data.merchantShortName,billerCode:this.formio.data.billerCode,uuid:this.formio.data.uuid,email:this.formio.data.email,addressListDataGrid:this.formio.data.addressListDataGrid,totalPrice:this.formio.data.totalPrice,paySuccess:this.formio.data.paySuccess,state:this.formio.data.state},draftSubmissionUrl:e,thankYouPageUrl:this.thankYouPage,submissionUrl:this.wizardUrl+"/submission/"+this.formio.submission._id,submissionId:this.formio.submission._id,formIdentifier:this.formIdentifier}).then((function(e){window.location.href=e.data.payment_url})).catch((function(e){console.log(e)}))},prevPageHandler(){this.currentPageIndex=this.getCurrentPageIndex-1,this.formio.setPage(this.getCurrentPageIndex),this.updateCurrentPageIndex(this.currentPageIndex)},nextPageHandler(){this.currentPageIndex=this.getCurrentPageIndex+1,this.formio.setPage(this.getCurrentPageIndex),this.updateCurrentPageIndex(this.currentPageIndex)},gotoPageHandler(){this.currentPageIndex=this.getCurrentPageIndex,this.formio.setPage(this.getCurrentPageIndex),this.isLastPanel=this.getIsLastPanel,this.scrollToTop()},saveAndContinueButtonHandler(){this.formio.nextPage().then((()=>{this.updateCurrentPageIndex(parseInt(this.currentPageIndex)+1),this.formio.getComponent("currentPageIndex").setValue(this.getCurrentPageIndex.toString())})).finally((()=>{this.scrollToTop()}))},saveAndExitButtonHandler(){this.saveDraftHandler(),this.scrollToTop()},submitFormHandler(){this.formio.getComponent("state").setValue("submitted"),this.formio.submit().finally((()=>{this.scrollToTop()}))},saveDraftHandler(){this.formio.draftEnabled=!0,this.formio.savingDraft=!1,this.formio.getComponent("currentPageIndex").setValue(this.getCurrentPageIndex.toString()),this.formio.saveDraft()},scrollToTop(){window.scroll({top:0,behavior:"smooth"})},...(0,I.nv)(["setCurrentPageIndex","setPanelList","setHelpers","setCurrentHelper","updateCurrentPageIndex"])}},H=n(89);const k=(0,H.Z)(S,[["render",b]]);var L=k;const U={class:"right-side-bar"},q=(0,i._)("h2",null,[(0,i._)("span",{class:"fa fa-question","aria-hidden":"true"}),(0,i.Uk)("Help guide")],-1),_=["innerHTML"],D={class:"collapsing-section",id:"id-panel-content-{{getCurrentHelper.pageKey}}"},z=["innerHTML"];function A(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("div",U,[q,(0,i._)("article",null,[(0,i._)("h3",{innerHTML:e.getCurrentHelper.header},null,8,_),(0,i._)("div",D,[(0,i._)("p",{innerHTML:e.getCurrentHelper.content},null,8,z)])])])}var F={name:"RightSideBar",data(){return{helper:{pageKey:"",header:"",content:""}}},computed:{...(0,I.Se)(["getCurrentHelper"])},methods:{...(0,I.nv)(["updateCurrentPageIndex"])}};const W=(0,H.Z)(F,[["render",A]]);var T=W;const N={class:"qg-section-nav","aria-label":"side navigation",role:"navigation"},B=(0,i._)("h2",null,[(0,i._)("a",{href:"/environment/land/state/application/forms"},"State land application forms")],-1),j={key:0,class:"qg-spinner align-center mt-3",role:"status"},K=(0,i._)("span",{class:"spinner-border"},null,-1),E=[K],O={key:1,"aria-label":"section navigation"},Y={href:"./"},M={class:"lb guide-sub-nav","aria-label":"section navigation"},$=["onClick"],R=["textContent"];function V(e,t,n,r,s,o){return(0,i.wg)(),(0,i.iD)("nav",N,[B,0===e.getPanelList.length?((0,i.wg)(),(0,i.iD)("div",j,E)):((0,i.wg)(),(0,i.iD)("ul",O,[(0,i._)("li",null,[(0,i._)("a",Y,(0,a.zw)(this.formName),1)]),(0,i._)("li",null,[(0,i._)("ol",M,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.getPanelList,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{onClick:n=>o.changePanelHandler(e,t),key:e.key,href:"#",class:"guide-sub-nav-item"},[(0,i._)("a",{href:"#",class:(0,a.C_)([e.isActive?"active":"",e.isDisabled?"disabled":""])},[(0,i._)("span",{class:"page-number",textContent:(0,a.zw)(t+1)},null,8,R),(0,i.Uk)(" "+(0,a.zw)(e.title),1)],2)],8,$)))),128))])])]))])}var Z={name:"LeftSideBar",props:{formName:{type:String,required:!0}},computed:{...(0,I.Se)(["getPanelList"])},methods:{changePanelHandler(e,t){e.isDisabled||this.updateCurrentPageIndex(t)},...(0,I.nv)(["updateCurrentPageIndex"])}};const G=(0,H.Z)(Z,[["render",V]]);var J=G,Q={name:"App",components:{LeftSideBar:J,FormWrapper:L,RightSideBar:T},data(){return{projectUrl:window.formioWizard.appProjectUrl,wizardUrl:window.formioWizard.appWizardUrl,createFormUrl:window.formioWizard.appWizardUrl,formIdentifier:`${window.formioWizard.appName}-${window.formioWizard.appEnv}`,formName:window.formioWizard.appFormName,savedApplicationPage:window.formioWizard.appSavedApplicationPage,thankYouPage:window.formioWizard.appThankYouPage,userId:window.formioWizard.appUserId,submissionId:"",hasPayment:window.formioWizard.appHasPayment,paymentUrl:window.formioWizard.appPaymentUrl,recaptchaSiteKey:window.formioWizard.appRecaptchaSiteKey}},beforeMount(){let e=window.location.search,t=new URLSearchParams(e),n=t.get("submissionId");this.createFormUrl=this.wizardUrl,n&&(this.createFormUrl+="/submission/"+n,this.submissionId=n)}};const X=(0,H.Z)(Q,[["render",g]]);var ee=X;const te=(0,I.MT)({state(){return{currentPageIndex:0,panelList:[],isLastPanel:!1,helpers:[],currentHelper:{},submissionId:"",userId:"",submissionStatus:"draft"}},getters:{getCurrentPageIndex(e){return e.currentPageIndex},getPanelList(e){return e.panelList},getIsLastPanel(e){return e.isLastPanel},getHelpers(e){return e.helpers},getCurrentHelper(e){return e.currentHelper},getSubmissionId(e){return e.submissionId},getUserId(e){return e.userId},getSubmissionStatus(e){return e.submissionStatus}},mutations:{setCurrentPageIndex(e,t){e.currentPageIndex=t},setPanelList(e,t){e.panelList=t},setIsLastPanel(e,t){e.isLastPanel=t},setHelpers(e,t){e.helpers=t},setCurrentHelper(e,t){e.currentHelper=t},setSubmissionId(e,t){e.submissionId=t},setUserId(e,t){e.userId=t},setSubmissionStatus(e,t){e.submissionStatus=t}},actions:{setCurrentPageIndex({commit:e},t){e("setCurrentPageIndex",t)},setPanelList({commit:e},t){e("setPanelList",t)},setIsLastPanel({commit:e},t){e("setIsLastPanel",t)},setHelpers({commit:e},t){e("setHelpers",t)},setCurrentHelper({commit:e},t){e("setCurrentHelper",t)},setSubmissionId({commit:e},t){e("setSubmissionId",t)},setUserId({commit:e},t){e("setUserId",t)},setSubmissionStatus({commit:e},t){e("setSubmissionStatus",t)},updateCurrentPageIndex(e,t){e.commit("setCurrentPageIndex",t);let n=e.state.panelList.map(((t,n)=>(t.isActive=!1,t.disabled=!0,n<e.state.currentPageIndex&&(t.isDisabled=!1),n===e.state.currentPageIndex&&(t.isActive=!0,t.isDisabled=!1),t)));e.commit("setPanelList",n),e.commit("setIsLastPanel",e.state.panelList.length===t+1),e.state.helpers.forEach((t=>{t.pageKey===e.state.panelList[e.state.currentPageIndex].key&&e.commit("setCurrentHelper",t)}))}}});(0,r.ri)(ee).use(te).mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,a){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],a=e[u][2];for(var o=!0,d=0;d<r.length;d++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[d])}))?r.splice(d--,1):(o=!1,a<s&&(s=a));if(o){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,a,s=r[0],o=r[1],d=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(d)var u=d(n)}for(t&&t(r);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunkapp"]=self["webpackChunkapp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4487)}));r=n.O(r)})();
//# sourceMappingURL=app.js.map